!function(e){function t(t){for(var n,i,s=t[0],l=t[1],c=t[2],d=0,h=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&h.push(a[i][0]),a[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(u&&u(t);h.length;)h.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,s=1;s<r.length;s++){var l=r[s];0!==a[l]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={0:0},o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;o.push([65,1]),r()}({30:function(e,t,r){e.exports={header:"header__a54415d",logo:"logo__607a62f",link:"link__f4366d4",active:"active__74c3d8d"}},34:function(e,t,r){"use strict";var n=r(27);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"store";return Object(n.b)(t)(Object(n.c)(e))}},38:function(e,t,r){"use strict";var n=r(18),a=r.n(n),o=r(22),i=r.n(o),s=r(31),l=r.n(s),c=r(32),u=r.n(c),d=r(33),h=r.n(d),m=r(0),p=r.n(m),f=r(87),y=r(58),E=r(86),v=r(34),g=r(40),b=r(85),w=r(2),O=r.n(w);function C(e){var t=e.items,r=e.handleEdit,n=e.handleDelete,a=e.handleSort;return p.a.createElement(b.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},p.a.createElement("thead",null,p.a.createElement("tr",{className:"text-center"},p.a.createElement("th",{onClick:a,className:"interactive",title:"Sort"},"Course"),p.a.createElement("th",{onClick:a,className:"interactive",title:"Sort"},"Students"),p.a.createElement("th",null),p.a.createElement("th",null))),p.a.createElement("tbody",null,t.map((function(e){return p.a.createElement("tr",{className:"text-center",key:e.id},p.a.createElement("td",null,e.course),p.a.createElement("td",null,e.students),p.a.createElement("td",null,p.a.createElement(E.a,{id:"course_edit-".concat(e.id),onClick:r},"Edit")),p.a.createElement("td",null,p.a.createElement(E.a,{id:"course_del-".concat(e.id),onClick:n,variant:"danger"},"Delete")))}))))}C.propTypes={items:O.a.array.isRequired,handleEdit:O.a.func.isRequired,handleDelete:O.a.func.isRequired,handleSort:O.a.func};var I,S=C,D=r(42),j=r(41),k=Object(v.a)(I=function(e){function t(){var e,r;a()(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(r=l()(this,(e=u()(t)).call.apply(e,[this].concat(o)))).store=r.props.store.courses,r.state={showEdit:!1,showDelete:!1},r.addInput=p.a.createRef(),r.handleInput=function(e){r.store.handleNew(e.target.value)},r.handleEnterKey=function(e){"Enter"===e.key&&r.store.addValue.trim()&&r.store.add()},r.handleClose=function(){r.setState({showEdit:!1,showDelete:!1})},r.handleEdit=function(e){r.store.setEditValue(e.target.id),r.setState({showEdit:!0})},r.handleChange=function(e){"Escape"===e.key&&r.setState({showEdit:!1}),"Enter"===e.key&&r.editItem(),r.store.change(e.target.value)},r.editItem=function(){r.store.edit(r.store.currId),r.setState({showEdit:!1})},r.handleDelete=function(e){r.store.currId=r.store.getId(e.target.id),r.setState({showDelete:!0})},r.deleteItem=function(){r.store.delete(r.store.currId),r.setState({showDelete:!1}),r.addInput.current.focus()},r.handleSort=function(e){r.store.sort(e.target.innerText)},r}return h()(t,e),i()(t,[{key:"componentWillMount",value:function(){this.store.loadItems()}},{key:"render",value:function(){var e=this,t=this.state,r=t.showEdit,n=t.showDelete;return p.a.createElement(p.a.Fragment,null,p.a.createElement(g.a,null),p.a.createElement("h1",null,"Courses"),p.a.createElement("section",{className:"wrapper"},p.a.createElement(f.a,{className:"p-3 mb-2"},p.a.createElement(y.a,{ref:this.addInput,value:this.store.addValue,onChange:this.handleInput,onKeyDown:this.handleEnterKey,placeholder:"Recipient's course title"}),p.a.createElement(E.a,{onClick:function(){return e.store.add()},variant:"outline-secondary"},"Add")),r&&p.a.createElement(D.a,{show:this.state.showEdit,value:this.store.editValue,handleClose:this.handleClose,handleEdit:this.editItem,handleChange:this.handleChange}),n&&p.a.createElement(j.a,{show:n,handleClose:this.handleClose,handleDelete:this.deleteItem}),p.a.createElement(S,{items:this.store.items,handleEdit:this.handleEdit,handleDelete:this.handleDelete,handleSort:this.handleSort})))}}]),t}(m.Component))||I;t.a=k},40:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(28),i=r(30),s=r.n(i);t.a=function(){var e=s.a.header,t=s.a.logo,r=s.a.link,n=s.a.active;return a.a.createElement("header",{className:e},a.a.createElement("div",{className:t},"SevenCirclesOfHell"),a.a.createElement("div",null,a.a.createElement(o.b,{className:r,activeClassName:n,to:"/",exact:!0},"Courses"),a.a.createElement(o.b,{className:r,activeClassName:n,to:"/students",exact:!0},"Students")))}},41:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(88),i=r(86),s=r(2),l=r.n(s);function c(e){var t=e.show,r=e.handleClose,n=e.handleDelete;return a.a.createElement(o.a,{show:t,onHide:r},a.a.createElement(o.a.Header,null,a.a.createElement(o.a.Title,null,"Delete item?")),a.a.createElement(o.a.Footer,null,a.a.createElement(i.a,{variant:"secondary",onClick:r},"Close"),a.a.createElement(i.a,{variant:"primary",onClick:n},"Delete item")))}c.propTypes={show:l.a.bool.isRequired,handleClose:l.a.func.isRequired,handleDelete:l.a.func.isRequired};t.a=c},42:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(88),i=r(87),s=r(58),l=r(86),c=r(2),u=r.n(c);function d(e){var t=e.show,r=e.value,c=e.handleClose,u=e.handleChange,d=e.handleEdit,h=Object(n.useRef)(null);return Object(n.useEffect)((function(){h.current.focus()}),[]),a.a.createElement(o.a,{show:t,onHide:c},a.a.createElement(o.a.Header,null,a.a.createElement(o.a.Title,null,"Edit item")),a.a.createElement(o.a.Body,null,a.a.createElement(i.a,{className:"p-3 mb-1"},a.a.createElement(s.a,{ref:h,value:r,onChange:u,onKeyUp:u,maxLength:20}))),a.a.createElement(o.a.Footer,null,a.a.createElement(l.a,{variant:"secondary",onClick:c},"Close"),a.a.createElement(l.a,{variant:"primary",onClick:d},"Save changes")))}d.propTypes={show:u.a.bool.isRequired,value:u.a.string.isRequired,handleClose:u.a.func.isRequired,handleChange:u.a.func.isRequired,handleEdit:u.a.func.isRequired};t.a=d},53:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return d}));var n=r(0),a=r.n(n),o=r(27),i=r(28),s=r(20),l=r(38),c=r(62),u=r(63);r(82),r(83);function d(){return a.a.createElement(i.a,{basename:e.env.PUBLIC_URL},a.a.createElement(o.a,{store:u.a},a.a.createElement("div",{className:"App"},a.a.createElement(s.a,{path:"/",component:l.a,exact:!0}),a.a.createElement(s.a,{path:"/students",component:c.a,exact:!0}))))}}).call(this,r(44))},59:function(e,t,r){e.exports={footer:"footer__e08bb71"}},60:function(e,t,r){e.exports={select:"select__45ba072"}},62:function(e,t,r){"use strict";var n=r(18),a=r.n(n),o=r(22),i=r.n(o),s=r(31),l=r.n(s),c=r(32),u=r.n(c),d=r(17),h=r.n(d),m=r(33),p=r.n(m),f=r(0),y=r.n(f),E=r(87),v=r(58),g=r(86),b=r(34),w=r(38),O=r(40);r(59);r(12);var C=r(85),I=r(2),S=r.n(I);function D(e){var t=e.items,r=e.handleEdit,n=e.handleDelete,a=e.handleSort;return y.a.createElement(C.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},y.a.createElement("thead",null,y.a.createElement("tr",{className:"text-center"},y.a.createElement("th",{onClick:a,className:"interactive",title:"Sort"},"Name"),y.a.createElement("th",{onClick:a,className:"interactive",title:"Sort"},"Email"),y.a.createElement("th",null),y.a.createElement("th",null))),y.a.createElement("tbody",null,t.map((function(e){return y.a.createElement("tr",{className:"text-center",key:e.id},y.a.createElement("td",null,e.name),y.a.createElement("td",null,e.email),y.a.createElement("td",null,y.a.createElement(g.a,{id:"student_edit-".concat(e.id),onClick:r},"Edit")),y.a.createElement("td",null,y.a.createElement(g.a,{id:"student_del-".concat(e.id),onClick:n,variant:"danger"},"Delete")))}))))}D.propTypes={items:S.a.array.isRequired,handleEdit:S.a.func.isRequired,handleDelete:S.a.func.isRequired,handleSort:S.a.func};var j=D,k=r(42),P=r(41),N=r(89),V=r(60),R=r.n(V);function x(e){for(var t=e.amount,r=e.changeAmount,n=[],a=1;a<=5;a++)n.push(y.a.createElement("option",{key:a},5*a));return y.a.createElement(N.a.Group,{controlId:"exampleForm.ControlSelect1"},y.a.createElement(N.a.Control,{onChange:r,value:t||"All",className:R.a.select,as:"select"},n,y.a.createElement("option",null,"All")))}x.propTypes={amount:S.a.number,changeAmount:S.a.func.isRequired};var _,K=x,q=w.a.wrappedComponent,M=Object(b.a)(_=function(e){function t(e){var r;return a()(this,t),(r=l()(this,u()(t).call(this,e))).state={showEdit:!1,showDelete:!1},r.addInput=y.a.createRef(),r.changeAmount=function(e){r.store.setFilter(e.target.value)},r.store=r.props.store.students,r.handleInput=r.handleInput.bind(h()(r)),r.handleEnterKey=r.handleEnterKey.bind(h()(r)),r.handleClose=r.handleClose.bind(h()(r)),r.handleEdit=r.handleEdit.bind(h()(r)),r.handleChange=r.handleChange.bind(h()(r)),r.editItem=r.editItem.bind(h()(r)),r.handleDelete=r.handleDelete.bind(h()(r)),r.deleteItem=r.deleteItem.bind(h()(r)),r.handleSort=r.handleSort.bind(h()(r)),r}return p()(t,e),i()(t,[{key:"componentWillMount",value:function(){this.store.loadItems()}},{key:"render",value:function(){var e=this,t=this.state,r=t.showEdit,n=t.showDelete;return y.a.createElement(y.a.Fragment,null,y.a.createElement(O.a,null),y.a.createElement("h1",null,"Students"),y.a.createElement(K,{amount:this.store.amount,changeAmount:this.changeAmount}),y.a.createElement("section",{className:"wrapper"},y.a.createElement(E.a,{className:"p-3 mb-2"},y.a.createElement(v.a,{ref:this.addInput,value:this.store.addValue,onChange:this.handleInput,onKeyDown:this.handleEnterKey,placeholder:"Recipient's username"}),y.a.createElement(g.a,{onClick:function(){return e.store.add()},variant:"outline-secondary"},"Add")),r&&y.a.createElement(k.a,{show:this.state.showEdit,value:this.store.editValue,handleClose:this.handleClose,handleEdit:this.editItem,handleChange:this.handleChange}),n&&y.a.createElement(P.a,{show:n,handleClose:this.handleClose,handleDelete:this.deleteItem}),this.store.items.length&&y.a.createElement(j,{items:this.store.items,amount:this.store.amount,handleEdit:this.handleEdit,handleDelete:this.handleDelete,handleSort:this.handleSort})))}}]),t}(q))||_;t.a=M},63:function(e,t,r){"use strict";var n={};r.r(n),r.d(n,"getUsers",(function(){return _})),r.d(n,"getComments",(function(){return K}));var a,o,i,s,l,c,u,d=r(37),h=r.n(d),m=r(18),p=r.n(m),f=r(21),y=r.n(f),E=r(23),v=r.n(E),g=r(22),b=r.n(g),w=r(7),O=r.n(w),C=(r(52),r(5)),I=(a=function(){function e(t){p()(this,e),v()(this,"items",o,this),v()(this,"editValue",i,this),this.cached=[],this.matched=[],this.currId=null,this.addValue="",this.editKey="course",this.storageKey="courses",this.isSorted={course:!1,students:!1},this.rootStore=t,this.service=this.rootStore.service,this.storage=this.rootStore.storage,this.sortDirect=this.rootStore.sortDirect,this.sortReverse=this.rootStore.sortReverse}return b()(e,[{key:"loadItems",value:function(){localStorage.getItem(this.storageKey)?this.getItems():(this.items=this.service.getCourses(),this.cached=this.service.getCourses())}},{key:"handleNew",value:function(e){var t=this;this.addValue=e,this.matched=this.cached.filter((function(r){return r[t.editKey].toLowerCase().includes(e.toLowerCase())})),this.items=y()(this.matched)}},{key:"add",value:function(){!this.itemExist&&this.addValue.trim()&&(this.cached.unshift({id:Math.round(1e4*Math.random()),students:Math.round(100*Math.random()),course:this.addValue}),this.items=y()(this.cached),this.addValue="",this.setItems())}},{key:"setEditValue",value:function(e){var t=this;this.currId=this.getId(e),this.editValue=this.items.find((function(e){return e.id===t.currId}))[this.editKey]}},{key:"change",value:function(e){this.editValue=e}},{key:"edit",value:function(e){this.items.find((function(t){return t.id===e}))[this.editKey]=this.editValue,this.cached.find((function(t){return t.id===e}))[this.editKey]=this.editValue,this.setItems()}},{key:"delete",value:function(e){this.items=this.cached.filter((function(t){return t.id!==e})),this.cached=y()(this.items),this.addValue="",this.setItems()}},{key:"sort",value:function(e){var t=e.toLowerCase();this.isSorted[t]?this.items=this.sortReverse(this.items,t):this.items=this.sortDirect(this.items,t),this.isSorted[t]=!this.isSorted[t]}},{key:"setItems",value:function(){this.storage.setItem(this.storageKey,JSON.stringify(this.cached))}},{key:"getItems",value:function(){this.items=JSON.parse(this.storage.getItem(this.storageKey)),this.cached=y()(this.items)}},{key:"getId",get:function(){return function(e){return Number(/\d+/.exec(e)[0])}}},{key:"itemExist",get:function(){var e=this;return this.cached.some((function(t){return t[e.editKey].toLowerCase()===e.addValue.toLowerCase()}))}}]),e}(),o=O()(a.prototype,"items",[C.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=O()(a.prototype,"editValue",[C.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O()(a.prototype,"getId",[C.e],Object.getOwnPropertyDescriptor(a.prototype,"getId"),a.prototype),O()(a.prototype,"itemExist",[C.e],Object.getOwnPropertyDescriptor(a.prototype,"itemExist"),a.prototype),O()(a.prototype,"loadItems",[C.d],Object.getOwnPropertyDescriptor(a.prototype,"loadItems"),a.prototype),O()(a.prototype,"handleNew",[C.d],Object.getOwnPropertyDescriptor(a.prototype,"handleNew"),a.prototype),O()(a.prototype,"add",[C.d],Object.getOwnPropertyDescriptor(a.prototype,"add"),a.prototype),O()(a.prototype,"setEditValue",[C.d],Object.getOwnPropertyDescriptor(a.prototype,"setEditValue"),a.prototype),O()(a.prototype,"change",[C.d],Object.getOwnPropertyDescriptor(a.prototype,"change"),a.prototype),O()(a.prototype,"edit",[C.d],Object.getOwnPropertyDescriptor(a.prototype,"edit"),a.prototype),O()(a.prototype,"delete",[C.d],Object.getOwnPropertyDescriptor(a.prototype,"delete"),a.prototype),O()(a.prototype,"sort",[C.d],Object.getOwnPropertyDescriptor(a.prototype,"sort"),a.prototype),a),S=(s=function(){function e(t){p()(this,e),v()(this,"items",l,this),v()(this,"editValue",c,this),v()(this,"amount",u,this),this.cached=[],this.matched=[],this.addValue="",this.editKey="name",this.storageKey="students",this.isSorted={name:!1,email:!1},this.rootStore=t,this.courses=this.rootStore.courses,this.service=this.rootStore.service,this.storage=this.rootStore.storage,this.sortDirect=this.rootStore.sortDirect,this.sortReverse=this.rootStore.sortReverse,this.getId=this.courses.getId,this.itemExist=this.courses.itemExist,this.handleNew=this.courses.handleNew,this.setEditValue=this.courses.setEditValue,this.change=this.courses.change,this.edit=this.courses.edit,this.delete=this.courses.delete,this.sort=this.courses.sort,this.setItems=this.courses.setItems,this.getItems=this.courses.getItems}return b()(e,[{key:"loadItems",value:function(){localStorage.getItem(this.storageKey)?this.getItems():this.requestItems()}},{key:"requestItems",value:function(){var e=this;return new Promise((function(t,r){e.service.getComments().then((function(n){e.cached=n,e.setFilter(e.amount),t(!0),r(!1)}))}))}},{key:"add",value:function(){var e=this;if(!this.cached.some((function(t){return t.name.toLowerCase()===e.addValue.toLowerCase()}))){var t=this.cached[Math.round(Math.random()*this.cached.length)].email;this.cached.unshift({id:Math.round(1e4*Math.random()),name:this.addValue,email:t}),this.items=y()(this.cached),this.addValue="",this.setItems()}}},{key:"setFilter",value:function(e){"All"===e?this.items=y()(this.cached):(this.amount=Number(e),this.matched=this.cached.slice(0,this.amount),this.items=y()(this.matched))}}]),e}(),l=O()(s.prototype,"items",[C.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=O()(s.prototype,"editValue",[C.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=O()(s.prototype,"amount",[C.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),O()(s.prototype,"loadItems",[C.d],Object.getOwnPropertyDescriptor(s.prototype,"loadItems"),s.prototype),O()(s.prototype,"requestItems",[C.d],Object.getOwnPropertyDescriptor(s.prototype,"requestItems"),s.prototype),O()(s.prototype,"add",[C.d],Object.getOwnPropertyDescriptor(s.prototype,"add"),s.prototype),O()(s.prototype,"setFilter",[C.d],Object.getOwnPropertyDescriptor(s.prototype,"setFilter"),s.prototype),s),D=function(e,t){return e.sort((function(e,r){return e[t]>r[t]?1:e[t]<r[t]?-1:0}))},j=function(e,t){return e.sort((function(e,r){return e[t]<r[t]?1:e[t]>r[t]?-1:0}))},k=r(61),P=r.n(k);function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){h()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.timeout,n=void 0===r?5e3:r,a=P()(t,["timeout"]);if(a.signal)throw new Error("Signal not supported in timeoutable fetch");var o=new AbortController,i=o.signal;return new Promise((function(t,r){var s=setTimeout((function(){r(new Error("Server timeout")),o.abort()}),n);fetch(e,V({signal:i},a)).finally((function(){return clearTimeout(s)})).then((function(e){return 200!==e.status?e.text().then((function(e){throw new Error(e)})):e.json()})).then(t,r).catch((function(e){return location.reload()}))}))},x="https://jsonplaceholder.typicode.com",_=function(){return R("".concat(x,"/").concat("users"))},K=function(){return R("".concat(x,"/").concat("comments"))},q=function(){return[{id:1,course:"HTML",students:56},{id:2,course:"SCSS",students:45},{id:3,course:"JavaScript",students:34},{id:4,course:"React",students:23},{id:5,course:"MobX",students:13},{id:6,course:"Webpack",students:3},{id:7,course:"Offer",students:"NaN"}]};function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}t.a=new function e(){p()(this,e),this.service=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){h()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},n,{getCourses:q}),this.storage=localStorage,this.sortDirect=D,this.sortReverse=j,this.courses=new I(this),this.students=new S(this)}},65:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),o=r(14),i=r.n(o),s=r(53);i.a.render(a.a.createElement(s.a,null),document.querySelector("#root"))},82:function(e,t,r){}});