!function(e){function t(t){for(var r,o,s=t[0],l=t[1],c=t[2],d=0,h=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&h.push(a[o][0]),a[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(u&&u(t);h.length;)h.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={0:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;i.push([64,1]),n()}({29:function(e,t,n){e.exports={header:"header__a54415d",logo:"logo__607a62f",link:"link__f4366d4",active:"active__74c3d8d"}},33:function(e,t,n){"use strict";var r=n(26);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"store";return Object(r.b)(t)(Object(r.c)(e))}},37:function(e,t,n){"use strict";var r=n(17),a=n.n(r),i=n(21),o=n.n(i),s=n(30),l=n.n(s),c=n(31),u=n.n(c),d=n(32),h=n.n(d),m=n(0),p=n.n(m),f=n(86),y=n(57),E=n(85),v=n(33),g=n(39),b=n(84),w=n(2),O=n.n(w);function C(e){var t=e.items,n=e.handleEdit,r=e.handleDelete,a=e.handleSort;return p.a.createElement(b.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},p.a.createElement("thead",null,p.a.createElement("tr",{className:"text-center"},p.a.createElement("th",{onClick:a,className:"interactive",title:"Sort"},"Course"),p.a.createElement("th",{onClick:a,className:"interactive",title:"Sort"},"Students"),p.a.createElement("th",null),p.a.createElement("th",null))),p.a.createElement("tbody",null,t.map((function(e){return p.a.createElement("tr",{className:"text-center",key:e.id},p.a.createElement("td",null,e.course),p.a.createElement("td",null,e.students),p.a.createElement("td",null,p.a.createElement(E.a,{id:"course_edit-".concat(e.id),onClick:n},"Edit")),p.a.createElement("td",null,p.a.createElement(E.a,{id:"course_del-".concat(e.id),onClick:r,variant:"danger"},"Delete")))}))))}C.propTypes={items:O.a.array.isRequired,handleEdit:O.a.func.isRequired,handleDelete:O.a.func.isRequired,handleSort:O.a.func};var S,I=C,D=n(41),j=n(40),k=Object(v.a)(S=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=l()(this,(e=u()(t)).call.apply(e,[this].concat(i)))).store=n.props.store.courses,n.state={showEdit:!1,showDelete:!1},n.addInput=p.a.createRef(),n.handleInput=function(e){n.store.handleNew(e.target.value)},n.handleEnterKey=function(e){"Enter"===e.key&&n.store.addValue.trim()&&n.store.add()},n.handleClose=function(){n.setState({showEdit:!1,showDelete:!1})},n.handleEdit=function(e){n.store.setEditValue(e.target.id),n.setState({showEdit:!0})},n.handleChange=function(e){"Escape"===e.key&&n.setState({showEdit:!1}),"Enter"===e.key&&n.editItem(),n.store.change(e.target.value)},n.editItem=function(){n.store.edit(n.store.currId),n.setState({showEdit:!1})},n.handleDelete=function(e){n.store.currId=n.store.getId(e.target.id),n.setState({showDelete:!0})},n.deleteItem=function(){n.store.delete(n.store.currId),n.setState({showDelete:!1}),n.addInput.current.focus()},n.handleSort=function(e){n.store.sort(e.target.innerText)},n}return h()(t,e),o()(t,[{key:"componentWillMount",value:function(){this.store.loadItems()}},{key:"render",value:function(){var e=this,t=this.state,n=t.showEdit,r=t.showDelete;return p.a.createElement(p.a.Fragment,null,p.a.createElement(g.a,null),p.a.createElement("h1",null,"Courses"),p.a.createElement("section",{className:"wrapper"},p.a.createElement(f.a,{className:"p-3 mb-2"},p.a.createElement(y.a,{ref:this.addInput,value:this.store.addValue,onChange:this.handleInput,onKeyDown:this.handleEnterKey,placeholder:"Recipient's course title"}),p.a.createElement(E.a,{onClick:function(){return e.store.add()},variant:"outline-secondary"},"Add")),n&&p.a.createElement(D.a,{show:this.state.showEdit,value:this.store.editValue,handleClose:this.handleClose,handleEdit:this.editItem,handleChange:this.handleChange}),r&&p.a.createElement(j.a,{show:r,handleClose:this.handleClose,handleDelete:this.deleteItem}),p.a.createElement(I,{items:this.store.items,handleEdit:this.handleEdit,handleDelete:this.handleDelete,handleSort:this.handleSort})))}}]),t}(m.Component))||S;t.a=k},39:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(27),o=n(29),s=n.n(o);t.a=function(){var e=s.a.header,t=s.a.logo,n=s.a.link,r=s.a.active;return a.a.createElement("header",{className:e},a.a.createElement("div",{className:t},"SevenCirclesOfHell"),a.a.createElement("div",null,a.a.createElement(i.b,{className:n,activeClassName:r,to:"/",exact:!0},"Courses"),a.a.createElement(i.b,{className:n,activeClassName:r,to:"/students",exact:!0},"Students")))}},40:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(87),o=n(85),s=n(2),l=n.n(s);function c(e){var t=e.show,n=e.handleClose,r=e.handleDelete;return a.a.createElement(i.a,{show:t,onHide:n},a.a.createElement(i.a.Header,null,a.a.createElement(i.a.Title,null,"Delete item?")),a.a.createElement(i.a.Footer,null,a.a.createElement(o.a,{variant:"secondary",onClick:n},"Close"),a.a.createElement(o.a,{variant:"primary",onClick:r},"Delete item")))}c.propTypes={show:l.a.bool.isRequired,handleClose:l.a.func.isRequired,handleDelete:l.a.func.isRequired};t.a=c},41:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(87),o=n(86),s=n(57),l=n(85),c=n(2),u=n.n(c);function d(e){var t=e.show,n=e.value,c=e.handleClose,u=e.handleChange,d=e.handleEdit,h=Object(r.useRef)(null);return Object(r.useEffect)((function(){h.current.focus()}),[]),a.a.createElement(i.a,{show:t,onHide:c},a.a.createElement(i.a.Header,null,a.a.createElement(i.a.Title,null,"Edit item")),a.a.createElement(i.a.Body,null,a.a.createElement(o.a,{className:"p-3 mb-1"},a.a.createElement(s.a,{ref:h,value:n,onChange:u,onKeyUp:u,maxLength:20}))),a.a.createElement(i.a.Footer,null,a.a.createElement(l.a,{variant:"secondary",onClick:c},"Close"),a.a.createElement(l.a,{variant:"primary",onClick:d},"Save changes")))}d.propTypes={show:u.a.bool.isRequired,value:u.a.string.isRequired,handleClose:u.a.func.isRequired,handleChange:u.a.func.isRequired,handleEdit:u.a.func.isRequired};t.a=d},52:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r=n(0),a=n.n(r),i=n(26),o=n(27),s=n(19),l=n(37),c=n(61),u=n(62);n(81),n(82);function d(){return a.a.createElement(o.a,{basename:e.env.PUBLIC_URL},a.a.createElement(i.a,{store:u.a},a.a.createElement("div",{className:"App"},a.a.createElement(s.a,{path:"/",component:l.a,exact:!0}),a.a.createElement(s.a,{path:"/students",component:c.a,exact:!0}))))}}).call(this,n(43))},58:function(e,t,n){e.exports={footer:"footer__e08bb71"}},59:function(e,t,n){e.exports={select:"select__45ba072"}},61:function(e,t,n){"use strict";var r=n(17),a=n.n(r),i=n(21),o=n.n(i),s=n(30),l=n.n(s),c=n(31),u=n.n(c),d=n(16),h=n.n(d),m=n(32),p=n.n(m),f=n(0),y=n.n(f),E=n(86),v=n(57),g=n(85),b=n(33),w=n(37),O=n(39);n(58);n(89);var C=n(84),S=n(2),I=n.n(S);function D(e){var t=e.items,n=e.handleEdit,r=e.handleDelete,a=e.handleSort;return y.a.createElement(C.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},y.a.createElement("thead",null,y.a.createElement("tr",{className:"text-center"},y.a.createElement("th",{onClick:a,className:"interactive",title:"Sort"},"Name"),y.a.createElement("th",{onClick:a,className:"interactive",title:"Sort"},"Email"),y.a.createElement("th",null),y.a.createElement("th",null))),y.a.createElement("tbody",null,t.map((function(e){return y.a.createElement("tr",{className:"text-center",key:e.id},y.a.createElement("td",null,e.name),y.a.createElement("td",null,e.email),y.a.createElement("td",null,y.a.createElement(g.a,{id:"student_edit-".concat(e.id),onClick:n},"Edit")),y.a.createElement("td",null,y.a.createElement(g.a,{id:"student_del-".concat(e.id),onClick:r,variant:"danger"},"Delete")))}))))}D.propTypes={items:I.a.array.isRequired,handleEdit:I.a.func.isRequired,handleDelete:I.a.func.isRequired,handleSort:I.a.func};var j=D,k=n(41),P=n(40),N=n(88),V=n(59),R=n.n(V);function x(e){for(var t=e.amount,n=e.changeAmount,r=[],a=1;a<=5;a++)r.push(y.a.createElement("option",{key:a},5*a));return y.a.createElement(N.a.Group,{controlId:"exampleForm.ControlSelect1"},y.a.createElement(N.a.Control,{onChange:n,value:t||"All",className:R.a.select,as:"select"},r,y.a.createElement("option",null,"All")))}x.propTypes={amount:I.a.number,changeAmount:I.a.func.isRequired};var _,K=x,q=w.a.wrappedComponent,M=Object(b.a)(_=function(e){function t(e){var n;return a()(this,t),(n=l()(this,u()(t).call(this,e))).state={showEdit:!1,showDelete:!1},n.addInput=y.a.createRef(),n.changeAmount=function(e){n.store.setFilter(e.target.value)},n.store=n.props.store.students,n.handleInput=n.handleInput.bind(h()(n)),n.handleEnterKey=n.handleEnterKey.bind(h()(n)),n.handleClose=n.handleClose.bind(h()(n)),n.handleEdit=n.handleEdit.bind(h()(n)),n.handleChange=n.handleChange.bind(h()(n)),n.editItem=n.editItem.bind(h()(n)),n.handleDelete=n.handleDelete.bind(h()(n)),n.deleteItem=n.deleteItem.bind(h()(n)),n.handleSort=n.handleSort.bind(h()(n)),n}return p()(t,e),o()(t,[{key:"componentWillMount",value:function(){this.store.loadItems()}},{key:"componentDidMount",value:function(){this.store.setFilter(this.store.amount)}},{key:"render",value:function(){var e=this,t=this.state,n=t.showEdit,r=t.showDelete;return y.a.createElement(y.a.Fragment,null,y.a.createElement(O.a,null),y.a.createElement("h1",null,"Students"),y.a.createElement(K,{amount:this.store.amount,changeAmount:this.changeAmount}),y.a.createElement("section",{className:"wrapper"},y.a.createElement(E.a,{className:"p-3 mb-2"},y.a.createElement(v.a,{ref:this.addInput,value:this.store.addValue,onChange:this.handleInput,onKeyDown:this.handleEnterKey,placeholder:"Recipient's username"}),y.a.createElement(g.a,{onClick:function(){return e.store.add()},variant:"outline-secondary"},"Add")),n&&y.a.createElement(k.a,{show:this.state.showEdit,value:this.store.editValue,handleClose:this.handleClose,handleEdit:this.editItem,handleChange:this.handleChange}),r&&y.a.createElement(P.a,{show:r,handleClose:this.handleClose,handleDelete:this.deleteItem}),this.store.items.length&&y.a.createElement(j,{items:this.store.items,amount:this.store.amount,handleEdit:this.handleEdit,handleDelete:this.handleDelete,handleSort:this.handleSort})))}}]),t}(q))||_;t.a=M},62:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"getUsers",(function(){return _})),n.d(r,"getComments",(function(){return K}));var a,i,o,s,l,c,u,d=n(36),h=n.n(d),m=n(17),p=n.n(m),f=n(4),y=n(20),E=n.n(y),v=n(23),g=n.n(v),b=n(21),w=n.n(b),O=n(8),C=n.n(O),S=(n(51),a=function(){function e(t){p()(this,e),g()(this,"items",i,this),g()(this,"editValue",o,this),this.cached=[],this.matched=[],this.currId=null,this.addValue="",this.editKey="course",this.storageKey="courses",this.isSorted={course:!1,students:!1},this.rootStore=t,this.service=this.rootStore.service,this.storage=this.rootStore.storage,this.sortDirect=this.rootStore.sortDirect,this.sortReverse=this.rootStore.sortReverse}return w()(e,[{key:"loadItems",value:function(){localStorage.getItem(this.storageKey)?this.getItems():(this.items=this.service.getCourses(),this.cached=this.service.getCourses())}},{key:"handleNew",value:function(e){var t=this;this.addValue=e,this.matched=this.cached.filter((function(n){return n[t.editKey].toLowerCase().includes(e.toLowerCase())})),this.items=E()(this.matched)}},{key:"add",value:function(){!this.itemExist&&this.addValue.trim()&&(this.cached.unshift({id:Math.round(1e4*Math.random()),students:Math.round(100*Math.random()),course:this.addValue}),this.items=E()(this.cached),this.addValue="",this.setItems())}},{key:"setEditValue",value:function(e){var t=this;this.currId=this.getId(e),this.editValue=this.items.find((function(e){return e.id===t.currId}))[this.editKey]}},{key:"change",value:function(e){this.editValue=e}},{key:"edit",value:function(e){this.items.find((function(t){return t.id===e}))[this.editKey]=this.editValue,this.cached.find((function(t){return t.id===e}))[this.editKey]=this.editValue,this.setItems()}},{key:"delete",value:function(e){this.items=this.cached.filter((function(t){return t.id!==e})),this.cached=E()(this.items),this.addValue="",this.setItems()}},{key:"sort",value:function(e){var t=e.toLowerCase();this.isSorted[t]?this.items=this.sortReverse(this.items,t):this.items=this.sortDirect(this.items,t),this.isSorted[t]=!this.isSorted[t]}},{key:"setItems",value:function(){this.storage.setItem(this.storageKey,JSON.stringify(this.cached))}},{key:"getItems",value:function(){this.items=JSON.parse(this.storage.getItem(this.storageKey)),this.cached=E()(this.items)}},{key:"getId",get:function(){return function(e){return Number(/\d+/.exec(e)[0])}}},{key:"itemExist",get:function(){var e=this;return this.cached.some((function(t){return t[e.editKey].toLowerCase()===e.addValue.toLowerCase()}))}}]),e}(),i=C()(a.prototype,"items",[f.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=C()(a.prototype,"editValue",[f.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),C()(a.prototype,"itemExist",[f.e],Object.getOwnPropertyDescriptor(a.prototype,"itemExist"),a.prototype),C()(a.prototype,"loadItems",[f.d],Object.getOwnPropertyDescriptor(a.prototype,"loadItems"),a.prototype),C()(a.prototype,"handleNew",[f.d],Object.getOwnPropertyDescriptor(a.prototype,"handleNew"),a.prototype),C()(a.prototype,"add",[f.d],Object.getOwnPropertyDescriptor(a.prototype,"add"),a.prototype),C()(a.prototype,"setEditValue",[f.d],Object.getOwnPropertyDescriptor(a.prototype,"setEditValue"),a.prototype),C()(a.prototype,"change",[f.d],Object.getOwnPropertyDescriptor(a.prototype,"change"),a.prototype),C()(a.prototype,"edit",[f.d],Object.getOwnPropertyDescriptor(a.prototype,"edit"),a.prototype),C()(a.prototype,"delete",[f.d],Object.getOwnPropertyDescriptor(a.prototype,"delete"),a.prototype),C()(a.prototype,"sort",[f.d],Object.getOwnPropertyDescriptor(a.prototype,"sort"),a.prototype),a),I=(s=function(){function e(t){p()(this,e),g()(this,"items",l,this),g()(this,"editValue",c,this),g()(this,"amount",u,this),this.cached=[],this.matched=[],this.addValue="",this.editKey="name",this.storageKey="students",this.isSorted={name:!1,email:!1},this.rootStore=t,this.courses=this.rootStore.courses,this.service=this.rootStore.service,this.storage=this.rootStore.storage,this.sortDirect=this.rootStore.sortDirect,this.sortReverse=this.rootStore.sortReverse,this.getId=this.courses.getId,this.itemExist=this.courses.itemExist,this.handleNew=this.courses.handleNew,this.setEditValue=this.courses.setEditValue,this.change=this.courses.change,this.edit=this.courses.edit,this.delete=this.courses.delete,this.sort=this.courses.sort,this.setItems=this.courses.setItems,this.getItems=this.courses.getItems}return w()(e,[{key:"loadItems",value:function(){localStorage.getItem(this.storageKey)?this.getItems():this.requestItems()}},{key:"requestItems",value:function(){var e=this;return new Promise((function(t,n){e.service.getComments().then((function(r){e.cached=r,e.setFilter(e.amount),t(!0),n(!1)}))}))}},{key:"add",value:function(){var e=this;if(!this.cached.some((function(t){return t.name.toLowerCase()===e.addValue.toLowerCase()}))){var t=this.cached[Math.round(Math.random()*this.cached.length)].email;this.cached.unshift({id:Math.round(1e4*Math.random()),name:this.addValue,email:t}),this.items=E()(this.cached),this.addValue="",this.setItems()}}},{key:"setFilter",value:function(e){"All"===e?this.items=E()(this.cached):(this.amount=Number(e),this.matched=this.cached.slice(0,this.amount),this.items=E()(this.matched))}}]),e}(),l=C()(s.prototype,"items",[f.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=C()(s.prototype,"editValue",[f.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=C()(s.prototype,"amount",[f.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),C()(s.prototype,"loadItems",[f.d],Object.getOwnPropertyDescriptor(s.prototype,"loadItems"),s.prototype),C()(s.prototype,"requestItems",[f.d],Object.getOwnPropertyDescriptor(s.prototype,"requestItems"),s.prototype),C()(s.prototype,"add",[f.d],Object.getOwnPropertyDescriptor(s.prototype,"add"),s.prototype),C()(s.prototype,"setFilter",[f.d],Object.getOwnPropertyDescriptor(s.prototype,"setFilter"),s.prototype),s),D=function(e,t){return e.sort((function(e,n){return e[t]>n[t]?1:e[t]<n[t]?-1:0}))},j=function(e,t){return e.sort((function(e,n){return e[t]<n[t]?1:e[t]>n[t]?-1:0}))},k=n(60),P=n.n(k);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.timeout,r=void 0===n?5e3:n,a=P()(t,["timeout"]);if(a.signal)throw new Error("Signal not supported in timeoutable fetch");var i=new AbortController,o=i.signal;return new Promise((function(t,n){var s=setTimeout((function(){n(new Error("Server timeout")),i.abort()}),r);fetch(e,V({signal:o},a)).finally((function(){return clearTimeout(s)})).then((function(e){return 200!==e.status?e.text().then((function(e){throw new Error(e)})):e.json()})).then(t,n).catch((function(e){return location.reload()}))}))},x="https://jsonplaceholder.typicode.com",_=function(){return R("".concat(x,"/").concat("users"))},K=function(){return R("".concat(x,"/").concat("comments"))},q=function(){return[{id:1,course:"HTML",students:56},{id:2,course:"SCSS",students:45},{id:3,course:"JavaScript",students:34},{id:4,course:"React",students:23},{id:5,course:"MobX",students:13},{id:6,course:"Webpack",students:3},{id:7,course:"Offer",students:"NaN"}]};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}Object(f.f)({enforceActions:"observed"});t.a=new function e(){p()(this,e),this.service=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r,{getCourses:q}),this.storage=localStorage,this.sortDirect=D,this.sortReverse=j,this.courses=new S(this),this.students=new I(this)}},64:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(13),o=n.n(i),s=n(52);o.a.render(a.a.createElement(s.a,null),document.querySelector("#root"))},81:function(e,t,n){}});